# ==============================================
# Development Environment Configuration
# ==============================================

# Common
APP_ENV=dev
LOG_LEVEL=debug

# ==============================================
# Infrastructure Ports (Used by docker-compose & Services)
# ==============================================
# Redpanda / Kafka
KAFKA_PORT=19092
KAFKA_ADMIN_PORT=19644
REDPANDA_PROXY_PORT=18083  # ИСПРАВЛЕНО: было 18082
REDPANDA_CONSOLE_PORT=18090

# Observability Ports (Prefix added: 1)
OTEL_COLLECTOR_PORT=14317
OTEL_COLLECTOR_HTTP_PORT=14318
OTEL_ZIPKIN_PORT=19411

PYROSCOPE_PORT=14040
VICTORIAMETRICS_PORT=18428
VICTORIALOGS_PORT=19438
TEMPO_PORT=13200
GRAFANA_PORT=13001
VMALERT_PORT=18880

# ==============================================
# Services Configuration
# ==============================================

# --- Gateway (Envoy) ---
GATEWAY_HTTP_PORT=18080

# --- Hosts for Gateway (Envoy uses these in envoy.tmpl.yaml) ---
LANDING_HOST=localhost
CHAT_HOST=localhost
NOTIFICATION_HOST=localhost
SHELL_HOST=localhost

# --- Otel Collector Config for Services ---
OTEL_COLLECTOR_HOST=localhost

# --- Frontend Environment (для браузера через Gateway) ---
VITE_GATEWAY_URL=http://localhost:18080
VITE_OTEL_ENDPOINT=http://localhost:18080/v1/traces

# --- Shell Service (Prefix: SHELL) ---
SHELL_SERVER_HTTP_PORT=19002
SHELL_SERVER_STATIC_DIR=../frontend/dist
SHELL_TELEMETRY_SERVICE_NAME=shell-service
SHELL_TELEMETRY_OTEL_ENDPOINT=localhost:${OTEL_COLLECTOR_PORT}
SHELL_TELEMETRY_PYROSCOPE_ENDPOINT=http://localhost:${PYROSCOPE_PORT}

# --- Landing Service (Prefix: LANDING) ---
LANDING_SERVER_HTTP_PORT=18081
LANDING_SERVER_GRPC_PORT=50051
LANDING_SERVER_STATIC_DIR=../frontend/dist
LANDING_TELEMETRY_SERVICE_NAME=landing-service
LANDING_TELEMETRY_OTEL_ENDPOINT=localhost:${OTEL_COLLECTOR_PORT}
LANDING_TELEMETRY_PYROSCOPE_ENDPOINT=http://localhost:${PYROSCOPE_PORT}

# --- Chat Service (Prefix: CHAT) ---
CHAT_SERVER_HTTP_PORT=18082
CHAT_SERVER_GRPC_PORT=50052
CHAT_SERVER_STATIC_DIR=../frontend/dist
CHAT_SERVICES_NOTIFICATION_ENDPOINT=localhost:50055
CHAT_TELEMETRY_SERVICE_NAME=chat-service
CHAT_TELEMETRY_OTEL_ENDPOINT=localhost:${OTEL_COLLECTOR_PORT}
CHAT_TELEMETRY_PYROSCOPE_ENDPOINT=http://localhost:${PYROSCOPE_PORT}
CHAT_KAFKA_BROKERS=localhost:${KAFKA_PORT}
CHAT_KAFKA_TOPIC=chat-messages
CHAT_KAFKA_GROUP_ID=chat-group

# --- Notification Service (Prefix: NOTIFICATION) ---
NOTIFICATION_SERVER_HTTP_PORT=18085
NOTIFICATION_SERVER_GRPC_PORT=50055
NOTIFICATION_TELEMETRY_SERVICE_NAME=notification-service
NOTIFICATION_TELEMETRY_OTEL_ENDPOINT=localhost:${OTEL_COLLECTOR_PORT}
NOTIFICATION_TELEMETRY_PYROSCOPE_ENDPOINT=http://localhost:${PYROSCOPE_PORT}
NOTIFICATION_KAFKA_BROKERS=localhost:${KAFKA_PORT}
NOTIFICATION_KAFKA_TOPIC=chat-messages
NOTIFICATION_KAFKA_GROUP_ID=notification-group

# ==============================================
# Infrastructure (Legacy vars for compatibility)
# ==============================================
KAFKA_BROKERS=localhost:${KAFKA_PORT}
