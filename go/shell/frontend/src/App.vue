<script setup>
import { defineAsyncComponent, defineComponent, h } from 'vue'

// –î–∏–Ω–∞–º–∏—á–µ—Å–∫–∏ –∑–∞–≥—Ä—É–∂–∞–µ–º –∫–æ–º–ø–æ–Ω–µ–Ω—Ç —Å —É–¥–∞–ª–µ–Ω–Ω–æ–≥–æ —Å–µ—Ä–≤–µ—Ä–∞
// –ï—Å–ª–∏ —Å–µ—Ä–≤–µ—Ä –ª–µ–∂–∏—Ç, –ø–æ–∫–∞–∑—ã–≤–∞–µ–º –æ—à–∏–±–∫—É
const GreeterWidget = defineAsyncComponent({
  loader: () => import('greeter_app/GreeterWidget'),
  errorComponent: defineComponent({
    render() { return h('div', '‚ö†Ô∏è Greeter Service is offline') }
  }),
  timeout: 3000
})
</script>

<template>
  <div class="shell-container">
    <h1>üè¢ Main Corporate Portal (Shell)</h1>
    <p>Host running on port 8080</p>

    <hr />

    <div class="widgets-area">
      <!-- –í—Å—Ç–∞–≤–ª—è–µ–º –≤–∏–¥–∂–µ—Ç –∏–∑ –º–∏–∫—Ä–æ—Å–µ—Ä–≤–∏—Å–∞ -->
      <Suspense>
        <GreeterWidget />
        <template #fallback>
          <div>Loading Remote Module...</div>
        </template>
      </Suspense>
    </div>
  </div>
</template>

<style>
body { font-family: sans-serif; background: #222; color: white; }
.shell-container { max-width: 800px; margin: 0 auto; padding: 20px; }
.widgets-area { display: grid; gap: 20px; margin-top: 30px; }
</style>
