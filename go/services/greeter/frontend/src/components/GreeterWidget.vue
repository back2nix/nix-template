<script setup>
import { ref, onMounted } from 'vue'

const msg = ref('Connecting...')

// Ð­Ñ‚Ð¾Ñ‚ ÐºÐ¾Ð¼Ð¿Ð¾Ð½ÐµÐ½Ñ‚, Ð·Ð°Ð³Ñ€ÑƒÐ¶ÐµÐ½Ð½Ñ‹Ð¹ Ð² Shell, Ð±ÑƒÐ´ÐµÑ‚ ÑÑ‚ÑƒÑ‡Ð°Ñ‚ÑŒÑÑ Ð½Ð° Ð¿Ð¾Ñ€Ñ‚ 8081
onMounted(async () => {
  try {
    // Ð’Ð°Ð¶Ð½Ð¾: Ð¿Ð¾Ð»Ð½Ñ‹Ð¹ URL, Ñ‚Ð°Ðº ÐºÐ°Ðº Ð¼Ñ‹ Ð±ÑƒÐ´ÐµÐ¼ Ð² Shell (Ð½Ð° 8080)
    const res = await fetch('http://localhost:8081/api/hello')
    const data = await res.json()
    msg.value = data.message
  } catch (e) {
    msg.value = 'Error fetching from Greeter Service'
  }
})
</script>

<template>
  <div class="greeter-box">
    <h3>ðŸ‘‹ Greeter Microservice Widget</h3>
    <p>Status: <strong>{{ msg }}</strong></p>
    <small>Loaded via Module Federation from :8081</small>
  </div>
</template>

<style scoped>
.greeter-box {
  border: 2px dashed #42b983;
  padding: 20px;
  border-radius: 8px;
  background: #f9f9f9;
  color: #333;
}
</style>
